<template name="SampleUpload">
    <h1>Simplest upload form!</h1>
    <p>See <a href="https://github.com/VeliovGroup/Meteor-Files">ostrio:files</a></p>

    {{> uploadForm}}

    {{> uploadedFiles}}
</template>

<template name="uploadForm">
    <input id="fileInput" type="file" multiple><br>
    {{#each filesToUpload}}
        <b>{{name}}</b>:
        {{#with uploadInstance this}}
            <div class="progress">
                <div class="determinate" style="width: {{progress.get}}%"></div>
            </div>
        {{else}}
            Done<br>
        {{/with}}
    {{/each}}
</template>

<template name="uploadedFiles">
    {{#if uploadedFiles.count}}
        <ul>
            {{#each file in uploadedFiles.each}}
                <li>
                    <a href="{{file.link}}?download=true" download="{{file.name}}">{{file.name}}</a>
                </li>
            {{/each}}
        </ul>
    {{else}}
        <div>No files uploaded, yet</div>
    {{/if}}
</template>