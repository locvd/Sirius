<template name="SampleUpload">
    <h1>Simplest upload form!</h1>
    <p>See <a href="https://github.com/VeliovGroup/Meteor-Files">ostrio:files</a></p>

    {{> uploadForm}}

    {{> uploadedFiles}}
</template>

<template name="uploadForm">
    <input id="fileInput" type="file" multiple><br>
    {{#each filesToUpload}}
        <b>{{name}}</b>:
        {{#with uploadInstance this}}
            <div class="progress">
                <div class="determinate" style="width: {{progress.get}}%"></div>
            </div>
        {{else}}
            Done<br>
        {{/with}}
    {{/each}}
</template>

<template name="uploadedFiles">
    <div class="container">

        <p class="caption">Masonry with Magnific Popup is a responsive lightbox & dialog script with focus
            on performance and providing best experience for user with any device</p>
        <div class="divider"></div>


        <div class="row popup-gallery">
            {{#if uploadedFiles.count}}
                {{#each file in uploadedFiles.each}}
                    <div class="col s6 m3 l2 no-padding" style="line-height: 0px;">
                        <a href="{{file.link}}" title="{{file.name}}" style="line-height: 0px;">
                            <img class="responsive-img" src="{{file.link}}" alt="{{file.name}}">
                        </a>
                    </div>
                {{/each}}
            {{/if}}
        </div>
    </div>
</template>